{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dmitr/OneDrive/\\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD/personal projects/Marketplace/FullStackMarketplace/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dmitr/OneDrive/\\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD/personal projects/Marketplace/FullStackMarketplace/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useEffect}from'react';import ProductDetails from'../components/ProductDetails';import ProductForm from'../components/ProductForm';import{useProductContext}from'../hooks/useProductsContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var _useProductContext=useProductContext(),products=_useProductContext.products,dispatch=_useProductContext.dispatch;//const [products, setProducts] = useState(null); // alternative to useProductContext\nuseEffect(function(){var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,items;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/api/products');case 2:response=_context.sent;_context.next=5;return response.json();case 5:items=_context.sent;// <= [{}]\nif(response.ok){dispatch({type:'new_products',payload:items});//setProducts(items);\n}if(!response.ok){console.log(response.text());}case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();fetchProducts();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products&&products.map(function(product){return/*#__PURE__*/_jsx(ProductDetails,{product:product},product._id);})}),/*#__PURE__*/_jsx(ProductForm,{})]});}","map":{"version":3,"names":["React","useEffect","ProductDetails","ProductForm","useProductContext","Home","products","dispatch","fetchProducts","fetch","response","json","items","ok","type","payload","console","log","text","map","product","_id"],"sources":["C:/Users/dmitr/OneDrive/מסמכים/personal projects/Marketplace/FullStackMarketplace/frontend/src/pages/Home.js"],"sourcesContent":["import React from 'react'\r\nimport { useEffect } from 'react'\r\nimport ProductDetails from '../components/ProductDetails'\r\nimport ProductForm from '../components/ProductForm';\r\nimport { useProductContext } from '../hooks/useProductsContext';\r\n\r\n\r\nexport default function Home() {\r\n    const { products, dispatch } = useProductContext()\r\n    //const [products, setProducts] = useState(null); // alternative to useProductContext\r\n    useEffect(() => {\r\n        const fetchProducts = async () => {\r\n            const response = await fetch('/api/products');\r\n            const items = await response.json(); // <= [{}]\r\n            if (response.ok) {\r\n                dispatch({ type: 'new_products', payload: items })\r\n                //setProducts(items);\r\n            }\r\n            if (!response.ok) {\r\n                console.log(response.text());\r\n            }\r\n        }\r\n        fetchProducts();\r\n    }, [])\r\n\r\n    return (\r\n        <div className='home'>\r\n            <div className='products'>\r\n                {products && products.map((product) => {\r\n                    return (<ProductDetails key={product._id} product={product} />)\r\n                })}\r\n            </div>\r\n            <ProductForm />\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"4aAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAOC,eAAc,KAAM,8BAA8B,CACzD,MAAOC,YAAW,KAAM,2BAA2B,CACnD,OAASC,iBAAiB,KAAQ,6BAA6B,CAAC,wFAGhE,cAAe,SAASC,KAAI,EAAG,CAC3B,uBAA+BD,iBAAiB,EAAE,CAA1CE,QAAQ,oBAARA,QAAQ,CAAEC,QAAQ,oBAARA,QAAQ,CAC1B;AACAN,SAAS,CAAC,UAAM,CACZ,GAAMO,cAAa,4FAAG,8KACKC,MAAK,CAAC,eAAe,CAAC,QAAvCC,QAAQ,qCACMA,SAAQ,CAACC,IAAI,EAAE,QAA7BC,KAAK,eAA0B;AACrC,GAAIF,QAAQ,CAACG,EAAE,CAAE,CACbN,QAAQ,CAAC,CAAEO,IAAI,CAAE,cAAc,CAAEC,OAAO,CAAEH,KAAM,CAAC,CAAC,CAClD;AACJ,CACA,GAAI,CAACF,QAAQ,CAACG,EAAE,CAAE,CACdG,OAAO,CAACC,GAAG,CAACP,QAAQ,CAACQ,IAAI,EAAE,CAAC,CAChC,CAAC,sDACJ,kBAVKV,cAAa,0CAUlB,CACDA,aAAa,EAAE,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI,aAAK,SAAS,CAAC,MAAM,wBACjB,YAAK,SAAS,CAAC,UAAU,UACpBF,QAAQ,EAAIA,QAAQ,CAACa,GAAG,CAAC,SAACC,OAAO,CAAK,CACnC,mBAAQ,KAAC,cAAc,EAAmB,OAAO,CAAEA,OAAQ,EAA9BA,OAAO,CAACC,GAAG,CAAsB,CAClE,CAAC,CAAC,EACA,cACN,KAAC,WAAW,IAAG,GACb,CAEd"},"metadata":{},"sourceType":"module"}